<!doctype html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Алексей Бронников — Сайты для вас и вашего бизнеса</title>
  <meta name="description" content="Создаю современные сайты-визитки и лендинги под ключ. Дизайн, копирайт, домен и хостинг — все в одном месте." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@500;700&family=Manrope:wght@300;400;500&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-organic-dark: #2c2a28; /* Сделали фон светлее */
      --bg-panel-glass: rgba(43, 40, 37, 0.6); /* Прозрачность для глассморфизма */
      --accent-warm: #ffb700; /* Сделали акцент ярче */
      --accent-glow: rgba(255, 183, 0, 0.4);
      --text-primary: #f0ede9;
      --text-secondary: #b8b0a6;
      --border-color: rgba(255, 183, 0, 0.2);
      --border-hover: rgba(255, 183, 0, 0.7);

      --telegram-color: #2AABEE;
      --whatsapp-color: #25D366;
      --max-color: #792DFF;
      --phone-color: #b0a89f;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: 'Manrope', sans-serif;
      color: var(--text-primary);
      background-color: var(--bg-organic-dark);
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* --- ЖИВОЙ ФОН V2.0 --- */
    #background-wrapper {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -2;
      overflow: hidden;
    }
    #living-glow {
      position: absolute;
      width: 200%; height: 200%;
      top: -50%; left: -50%;
      background: 
        radial-gradient(circle at 25% 25%, var(--accent-glow) 0%, transparent 30%),
        radial-gradient(circle at 75% 75%, rgba(121, 45, 255, 0.15) 0%, transparent 35%);
      animation: living-glow-rotate 40s ease-in-out infinite alternate;
    }
    @keyframes living-glow-rotate {
      from { transform: rotate(0deg) scale(1); }
      to { transform: rotate(360deg) scale(1.1); }
    }
    #particle-container {
      position: absolute; top:0; left:0; width:100%; height:100%;
    }
    .particle {
      position: absolute;
      border-radius: 50%;
      background: var(--accent-warm);
      opacity: 0;
      animation: rise 15s infinite ease-in;
    }
    @keyframes rise {
      0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
      10% { opacity: 0.6; }
      90% { opacity: 0.2; }
      100% { transform: translateY(-10vh) scale(1); opacity: 0; }
    }
    /* Генерация частиц через CSS для простоты */
    .particle:nth-child(1) { width: 4px; height: 4px; left: 10%; animation-delay: 0s; animation-duration: 15s; }
    .particle:nth-child(2) { width: 2px; height: 2px; left: 20%; animation-delay: 2s; animation-duration: 12s; }
    .particle:nth-child(3) { width: 5px; height: 5px; left: 30%; animation-delay: 4s; animation-duration: 18s; }
    .particle:nth-child(4) { width: 3px; height: 3px; left: 40%; animation-delay: 1s; animation-duration: 14s; }
    .particle:nth-child(5) { width: 2px; height: 2px; left: 50%; animation-delay: 7s; animation-duration: 11s; }
    .particle:nth-child(6) { width: 4px; height: 4px; left: 60%; animation-delay: 3s; animation-duration: 16s; }
    .particle:nth-child(7) { width: 6px; height: 6px; left: 70%; animation-delay: 8s; animation-duration: 20s; }
    .particle:nth-child(8) { width: 2px; height: 2px; left: 80%; animation-delay: 5s; animation-duration: 13s; }
    .particle:nth-child(9) { width: 3px; height: 3px; left: 90%; animation-delay: 6s; animation-duration: 17s; }
    .particle:nth-child(10) { width: 5px; height: 5px; left: 5%; animation-delay: 9s; animation-duration: 19s; }

    /* --- ОБЩАЯ СТРУКТУРА --- */
    .main-wrapper {
      max-width: 1000px; margin: 0 auto;
      padding: 1.5rem;
    }

    /* --- ХЭДЕР (ГЛАССМОРФИЗМ) --- */
    .topbar {
      position: sticky; top: 1rem; z-index: 50;
      backdrop-filter: blur(16px) saturate(150%);
      background: var(--bg-panel-glass);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      box-shadow: 0 4px 30px rgba(0,0,0,0.2), inset 0 0 0 1px rgba(255,255,255,0.05);
    }
    .topbar-inner {
      display: flex; align-items: center;
      padding: 0.8rem 1.5rem;
    }
    .logo-link {
      display: flex; align-items: center; gap: 1rem;
      text-decoration: none; margin-right: auto;
      transition: transform 0.3s ease;
    }
    .logo-link:hover { transform: scale(1.05); }
    .brand-logo-char {
      font-family: 'Exo 2', sans-serif; font-weight: 700; font-size: 2rem;
      color: var(--accent-warm); text-shadow: 0 0 15px var(--accent-glow);
      line-height: 1;
    }
    .logo-name {
      font-family: 'Manrope', sans-serif; font-weight: 300; font-size: 1.1rem;
      color: var(--text-primary);
    }
    nav.menu {
      display: flex; gap: 0.5rem;
      font-family: 'Exo 2', sans-serif; font-size: 0.9rem;
      font-weight: 500;
    }
    nav.menu a {
      text-decoration: none; padding: 0.5rem 1rem;
      color: var(--text-secondary);
      position: relative; transition: color 0.3s ease, text-shadow 0.3s ease;
      cursor: pointer;
    }
    nav.menu a:hover, nav.menu a.active {
      color: var(--text-primary);
      text-shadow: 0 0 8px var(--accent-glow);
    }


    /* --- ГЛАВНЫЙ ЭКРАН (HERO) --- */
    .hero-section {
      min-height: calc(100vh - 150px);
      display: flex; align-items: center;
      padding: 4rem 0;
      text-align: center;
    }
    .hero-content { width: 100%; }
    .subtitle {
      font-family: 'Exo 2', sans-serif; font-size: 1rem;
      color: var(--text-secondary); margin: 0 0 1rem 0;
      letter-spacing: 0.1em;
    }
    .name {
      font-family: 'Exo 2', sans-serif; font-weight: 700;
      font-size: clamp(2.5rem, 8vw, 4.5rem);
      line-height: 1.1; margin: 0 0 2.5rem 0;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    /* Анимация букв */
    .name .char {
      display: inline-block;
      opacity: 0;
      transform: translateY(30px) scale(0.8);
      animation: fadeInUpLetter 0.8s cubic-bezier(0.25, 1, 0.5, 1) forwards;
    }
    @keyframes fadeInUpLetter { to { opacity: 1; transform: translateY(0) scale(1); } }

    .tech-list { 
      display: flex; flex-direction: column; gap: 1rem; 
      max-width: 600px; margin: 0 auto; text-align: left;
    }
    .tech-item {
      display: flex; align-items: center; gap: 1rem;
      font-size: 1.1rem;
      font-weight: 300;
    }
    .tech-item .tech-icon {
      width: 12px; height: 12px; flex-shrink: 0;
      background-color: var(--accent-warm);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--accent-glow);
      transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    }
    .tech-item:hover .tech-icon {
        transform: scale(1.3) translateY(-3px);
    }
    .tech-item strong { color: #fff; font-weight: 500; }

    /* --- ОБЩИЕ СТИЛИ СЕКЦИЙ --- */
    .content-section {
      padding: 5rem 0;
    }
    .section-title {
      font-family: 'Exo 2', sans-serif; font-size: 1.8rem;
      letter-spacing: 0.05em; color: var(--text-primary);
      text-align: center;
      margin: 0 0 3rem 0; position: relative;
    }
    .section-title::after {
        content: ''; position: absolute; left: 50%; transform: translateX(-50%); bottom: -12px;
        width: 60px; height: 2px; background: var(--accent-warm);
        box-shadow: 0 0 10px var(--accent-glow);
    }

    /* --- АНИМАЦИИ ПОЯВЛЕНИЯ --- */
    .animate-on-scroll {
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
    }
    .animate-on-scroll.is-visible {
      opacity: 1;
      transform: translateY(0);
    }
    .centered-block { text-align: center; margin-top: 2.5rem; }

    /* --- СЕКЦИЯ КЕЙСЫ И БРИФ (3D-КАРТОЧКИ) --- */
    .tilt-card {
      padding: 2.5rem;
      border: 1px solid var(--border-color);
      background: var(--bg-panel-glass);
      backdrop-filter: blur(16px) saturate(150%);
      border-radius: 24px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2), inset 0 0 0 1px rgba(255,255,255,0.05);
      transform-style: preserve-3d;
      transform: perspective(1000px);
      will-change: transform;
    }
    .tilt-card .stat-number, .tilt-card .icon, .tilt-card .section-title, .tilt-card p, .tilt-card .btn {
      transform: translateZ(20px);
    }
    .stat-number {
      font-family: 'Exo 2', sans-serif; font-size: 4.5rem; font-weight: 700;
      line-height: 1.1; color: var(--accent-warm);
      text-shadow: 0 0 20px var(--accent-glow);
    }
    .stat-label { font-size: 1.1rem; color: var(--text-secondary); transform: translateZ(40px); }

    .cta-card .icon { color: var(--accent-warm); margin-bottom: 1.5rem; transform: scale(1.3) translateZ(50px); }
    .cta-card .section-title { margin-bottom: 2.5rem; }
    .cta-card p {
      color: var(--text-secondary); font-size: 1.1rem;
      max-width: 550px; margin: 0 auto 2rem;
    }

    /* --- КНОПКИ --- */
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      font-family: 'Exo 2', sans-serif; font-size: 1rem; font-weight: 500;
      text-decoration: none; text-transform: uppercase;
      color: var(--text-primary);
      border: 1px solid var(--border-color);
      background-color: transparent;
      padding: 0.9rem 2rem;
      border-radius: 50px;
      position: relative; overflow: hidden;
      transition: all 0.4s ease;
      cursor: pointer;
    }
    .btn:hover, .btn:focus {
      color: var(--bg-organic-dark);
      background-color: var(--accent-warm);
      border-color: var(--accent-warm);
      box-shadow: 0 0 25px var(--accent-glow);
      transform: translateY(-3px);
    }

    /* --- СЕКЦИЯ КОНТАКТЫ --- */
    .contacts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
    }

    /* --- ФУТЕР --- */
    footer {
      text-align: center; font-size: 0.9rem; color: var(--text-secondary);
      padding: 2.5rem 0; margin-top: 3rem;
      border-top: 1px solid var(--border-color);
    }
    
    /* --- МОДАЛЬНЫЕ ОКНА (ГЛАССМОРФИЗМ) --- */
    .modal-content {
      background: var(--bg-panel-glass);
      border: 1px solid var(--border-color);
      backdrop-filter: blur(20px) saturate(180%);
      padding: 2.5rem; width: 90%;
      border-radius: 20px;
      box-shadow: 0 0 50px rgba(0,0,0,0.5), inset 0 0 0 1px rgba(255,255,255,0.05);
    }
    
    /* Сохраняем остальные стили модальных окон без изменений */
    .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; display: flex; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity .3s ease; }
    .modal.is-open { opacity: 1; pointer-events: auto; }
    .modal-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(26, 24, 22, 0.5); backdrop-filter: blur(5px); cursor: pointer; }
    .modal-content { position: relative; z-index: 1001; transform: scale(0.95); transition: transform .3s ease; max-height: 90vh; overflow-y: auto; }
    .modal.is-open .modal-content { transform: scale(1); }
    .modal-content.single { max-width: 400px; text-align: center; }
    .modal-content.main-contacts { max-width: 800px; }
    .modal-close { position: absolute; top: 15px; right: 15px; width: 30px; height: 30px; font-size: 24px; color: var(--text-secondary); background: none; border: none; cursor: pointer; line-height: 1; transition: .2s ease; z-index: 1002; }
    .modal-close:hover { color: var(--accent-warm); transform: rotate(90deg); }
    .main-contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
    .contact-card { text-align: center; }
    .modal-qr { margin: 16px auto; width: 160px; height: 160px; border-radius: 12px; padding: 8px; background: #fff; }
    .modal-qr.placeholder { background: transparent; border: 1px solid var(--border-color); display:flex; align-items:center; justify-content:center; }
    .modal-contact-info { font-family: 'Exo 2', monospace; font-size: 1.2rem; color: white; min-height: 1.5em; margin: 16px 0; }
    .modal-actions { display: flex; gap: 12px; justify-content: center; margin-top: 24px; }

    /* --- МОБИЛЬНАЯ АДАПТАЦИЯ --- */
    .hamburger-menu, .mobile-nav { display: none; }
    @media (max-width: 768px) {
      .main-wrapper { padding: 1rem; }
      nav.menu { display: none; }
      .logo-name { display: none; }
      .hero-section { text-align: left; }
      .tech-list { margin: 0; }
      .main-contact-grid { grid-template-columns: 1fr; }
      .hamburger-menu { display: flex; flex-direction: column; gap: 6px; margin-left: auto; background: none; border: none; cursor: pointer; padding: 8px; z-index: 100; }
      .hamburger-menu .bar { width: 28px; height: 3px; background: var(--text-primary); border-radius: 2px; transition: .3s ease; }
      .hamburger-menu.is-active .bar:nth-child(1) { transform: translateY(9px) rotate(45deg); }
      .hamburger-menu.is-active .bar:nth-child(2) { opacity: 0; }
      .hamburger-menu.is-active .bar:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }
      .mobile-nav { display: block; position: fixed; top: 0; right: -100%; z-index: 40; width: min(80vw, 320px); height: 100%; backdrop-filter: blur(16px); background: color-mix(in srgb, var(--bg-panel-glass) 95%, transparent); border-left: 1px solid var(--border-color); padding: 100px 30px; transition: right .4s cubic-bezier(0.25, 1, 0.5, 1); }
      .mobile-nav.is-active { right: 0; box-shadow: -10px 0 40px rgba(0,0,0,0.5); }
      .mobile-nav nav.menu { display: flex; flex-direction: column; align-items: flex-start; gap: 1.5rem; font-size: 1.2rem; }
    }
  </style>
</head>

<body>
  
  <div id="background-wrapper">
    <div id="living-glow"></div>
    <div id="particle-container">
      <div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>
      <div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>
    </div>
  </div>

  <div class="main-wrapper">
    <header class="topbar">
      <div class="topbar-inner">
        <a href="#home" class="logo-link magnetic-item">
          <span class="brand-logo-char">Э.</span>
          <span class="logo-name">Алексей Бронников</span>
        </a>
        <nav class="menu" role="navigation">
            <a href="#home" class="active magnetic-item">ГЛАВНАЯ</a>
            <a href="#cases" class="magnetic-item">КЕЙСЫ</a>
            <a href="#brief" class="magnetic-item">БРИФ</a>
            <a data-modal-trigger="main-contact-modal" class="magnetic-item">КОНТАКТЫ</a>
        </nav>
        <button class="hamburger-menu magnetic-item" aria-label="Открыть меню" aria-expanded="false">
          <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </button>
      </div>
    </header>
    <div class="mobile-nav"><nav class="menu" role="navigation"></nav></div>

    <main class="content-grid" id="home">
      
      <section class="hero-section">
        <div class="hero-content">
          <p class="subtitle animate-on-scroll">Сайты для вас и вашего бизнеса</p>
          <h1 class="name">АЛЕКСЕЙ БРОННИКОВ</h1>
          <div class="tech-list animate-on-scroll">
            <div class="tech-item"><div class="tech-icon"></div><span>Готовые решения: сайт + копирайт + хостинг</span></div>
            <div class="tech-item"><div class="tech-icon"></div><span>Расскажите о <strong>себе</strong> или о своей <strong>компании</strong></span></div>
            <div class="tech-item"><div class="tech-icon"></div><span>Интеграция <strong>Яндекс карт</strong></span></div>
            <div class="tech-item"><div class="tech-icon"></div><span><strong>SEO оптимизация</strong>: возможно наполнение контентом</span></div>
            <div class="tech-item"><div class="tech-icon"></div><span>Подключение <strong>Яндекс.Метрики</strong> и <strong>Google Analytics</strong></span></div>
            <div class="tech-item"><div class="tech-icon"></div><span><strong>Гарантия 6</strong> месяцев на все сайты</span></div>
            <div class="tech-item"><div class="tech-icon"></div><span>Только <strong>честные отзывы</strong> на КАЖДОЕ решение</span></div>
          </div>
        </div>
      </section>
      
      <section id="cases" class="content-section animate-on-scroll" aria-label="Кейсы">
        <h2 class="section-title">КЕЙСЫ</h2>
        <div class="tilt-card" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-perspective="1000">
            <div id="counter" class="stat-number" data-target="3">0</div>
            <div class="stat-label">Готовых решений</div>
        </div>
        <div class="centered-block">
            <a class="btn magnetic-item" href="portfolio.html"><span>Смотреть отзывы</span></a>
        </div>
      </section>

      <section id="brief" class="content-section animate-on-scroll" aria-label="Заполнить бриф">
        <div class="cta-card tilt-card" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-perspective="1000">
            <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
            </div>
            <h2 class="section-title">Готовы начать проект?</h2>
            <p>Лучший способ начать — заполнить бриф. Это поможет мне лучше понять вашу задачу и предложить наиболее эффективное решение.</p>
            <a href="#" class="btn magnetic-item"><span>Заполнить бриф</span></a>
        </div>
      </section>

      <section id="contacts" class="content-section animate-on-scroll" aria-label="Контакты">
        <h2 class="section-title">Контакты</h2>
        <div class="contacts-grid">
          <button class="btn contact-btn magnetic-item" data-modal-trigger="telegram-modal"><span>Telegram</span></button>
          <button class="btn contact-btn magnetic-item" data-modal-trigger="whatsapp-modal"><span>WhatsApp</span></button>
          <button class="btn contact-btn magnetic-item" data-modal-trigger="max-modal"><span>Max</span></button>
          <button class="btn contact-btn magnetic-item" data-modal-trigger="phone-modal"><span>Телефон</span></button>
        </div>
      </section>
        
    </main>

    <footer class="animate-on-scroll">
        <p>Сайт разработал Алексей <span class="brand-logo-char">Э.</span> Бронников</p>
        <p>© 2025</p>
    </footer>
  </div>

  
  <div class="modal" id="telegram-modal"><div class="modal-overlay" data-modal-close></div><div class="modal-content single"><button class="modal-close magnetic-item" data-modal-close>&times;</button><h2 class="section-title" style="color:var(--telegram-color)">Telegram</h2><div class="modal-qr" data-qr-text="https://t.me/alexeybronnikov"></div><div class="modal-contact-info" data-modal-text="@alexeybronnikov">@alexeybronnikov</div><div class="modal-actions"><a href="https://t.me/alexeybronnikov" target="_blank" class="btn magnetic-item">Перейти</a><button class="btn secondary magnetic-item" data-copy-text="@alexeybronnikov">Копировать</button></div></div></div>
  <div class="modal" id="whatsapp-modal"><div class="modal-overlay" data-modal-close></div><div class="modal-content single"><button class="modal-close magnetic-item" data-modal-close>&times;</button><h2 class="section-title" style="color:var(--whatsapp-color)">WhatsApp</h2><div class="modal-qr" data-qr-text="https://wa.me/qr/PZNL54WWEV4GI1"></div><div class="modal-contact-info" data-modal-text="+7 (995) 131-28-28">+7 (995) 131-28-28</div><div class="modal-actions"><a href="https://wa.me/qr/PZNL54WWEV4GI1" target="_blank" class="btn magnetic-item">Перейти</a><button class="btn secondary magnetic-item" data-copy-text="+79951312828">Копировать</button></div></div></div>
  <div class="modal" id="max-modal"><div class="modal-overlay" data-modal-close></div><div class="modal-content single"><button class="modal-close magnetic-item" data-modal-close>&times;</button><h2 class="section-title" style="color:var(--max-color)">Max</h2><div class="modal-qr" data-qr-text="+79951312828"></div><div class="modal-contact-info" data-modal-text="+7 (995) 131-28-28">+7 (995) 131-28-28</div><div class="modal-actions"><a href="#" class="btn magnetic-item">Перейти</a><button class="btn secondary magnetic-item" data-copy-text="+79951312828">Копировать</button></div></div></div>
  <div class="modal" id="phone-modal"><div class="modal-overlay" data-modal-close></div><div class="modal-content single"><button class="modal-close magnetic-item" data-modal-close>&times;</button><h2 class="section-title" style="color:var(--phone-color)">Телефон</h2><div class="modal-qr placeholder"><svg class="placeholder-icon" xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg></div><div class="modal-contact-info" data-modal-text="+7 (995) 131-28-28">+7 (995) 131-28-28</div><div class="modal-actions"><a href="tel:+79951312828" class="btn magnetic-item">Позвонить</a><button class="btn secondary magnetic-item" data-copy-text="+79951312828">Копировать</button></div></div></div>
  <div class="modal" id="main-contact-modal"><div class="modal-overlay" data-modal-close></div><div class="modal-content main-contacts"><button class="modal-close" data-modal-close>&times;</button><div class="main-contact-grid"></div></div></div>
  
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.1/vanilla-tilt.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // --- АНИМАЦИЯ ЗАГОЛОВКА ПО БУКВАМ ---
      const title = document.querySelector('.name');
      if (title) {
        const text = title.textContent;
        title.innerHTML = '';
        text.split('').forEach((char, index) => {
          const span = document.createElement('span');
          span.className = 'char';
          span.textContent = char === ' ' ? '\u00A0' : char;
          span.style.animationDelay = `${index * 0.03}s`;
          title.appendChild(span);
        });
      }
      
      // --- ИНИЦИАЛИЗАЦИЯ 3D TILT ЭФФЕКТА ---
      VanillaTilt.init(document.querySelectorAll("[data-tilt]"), {
        glare: true,
        "max-glare": 0.1
      });

      // --- "МАГНИТНЫЕ" КНОПКИ ---
      const magneticItems = document.querySelectorAll('.magnetic-item');
      const isTouchDevice = 'ontouchstart' in window;
      if (!isTouchDevice) {
        magneticItems.forEach(item => {
          item.addEventListener('mousemove', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left - rect.width / 2;
            const y = e.clientY - rect.top - rect.height / 2;
            this.style.transition = 'transform 0.1s ease-out';
            this.style.transform = `translate(${x * 0.3}px, ${y * 0.4}px)`;
          });
          item.addEventListener('mouseleave', function() {
            this.style.transition = 'transform 0.3s cubic-bezier(0.25, 1, 0.5, 1)';
            this.style.transform = 'translate(0,0)';
          });
        });
      }


      // --- АНИМАЦИИ ПРИ СКРОЛЛЕ ---
      const animatedEls = document.querySelectorAll('.animate-on-scroll');
      const animationObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15 });
      animatedEls.forEach(el => animationObserver.observe(el));

      // --- АНИМАЦИЯ СЧЕТЧИКА ---
      const counter = document.getElementById('counter');
      if (counter) {
        new IntersectionObserver((entries, observer) => {
          if (entries[0].isIntersecting) {
            const target = +counter.dataset.target; let current = 0; const duration = 1500; const stepTime = 20; const steps = duration / stepTime; const increment = target / steps;
            const timer = setInterval(() => {
              current += increment;
              if (current >= target) { current = target; clearInterval(timer); }
              counter.innerText = Math.floor(current);
            }, stepTime);
            observer.unobserve(counter);
          }
        }, { threshold: 0.8 }).observe(counter);
      }
      
      // --- МОБИЛЬНАЯ НАВИГАЦИЯ ---
      const hamburger = document.querySelector('.hamburger-menu');
      const mobileNav = document.querySelector('.mobile-nav');
      const desktopNavMenu = document.querySelector('.topbar nav.menu');
      const mobileNavMenu = mobileNav.querySelector('nav.menu');
      mobileNavMenu.innerHTML = desktopNavMenu.innerHTML;
      hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('is-active');
        mobileNav.classList.toggle('is-active');
      });
      mobileNavMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', (e) => {
          hamburger.classList.remove('is-active');
          mobileNav.classList.remove('is-active');
          if (link.dataset.modalTrigger) { e.preventDefault(); setTimeout(() => openModal(link.dataset.modalTrigger), 300); }
        });
      });

      // --- ЛОГИКА МОДАЛЬНЫХ ОКОН ---
      function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (!modal) return;
        modal.classList.add('is-open');
        modal.querySelectorAll('[data-qr-text]').forEach(qrEl => {
          if (!qrEl.dataset.generated) {
            qrEl.innerHTML = '';
            new QRCode(qrEl, { text: qrEl.dataset.qrText, width: 144, height: 144, colorDark : "#1a1816", colorLight : "#ffffff", correctLevel : QRCode.CorrectLevel.H });
            qrEl.dataset.generated = 'true';
          }
        });
      }
      document.querySelectorAll('[data-modal-trigger]').forEach(trigger => trigger.addEventListener('click', (e) => { e.preventDefault(); openModal(trigger.dataset.modalTrigger); }));
      document.querySelectorAll('.modal').forEach(modal => modal.querySelectorAll('[data-modal-close], .modal-overlay').forEach(el => el.addEventListener('click', () => modal.classList.remove('is-open'))));
      document.addEventListener('keydown', e => { if (e.key === "Escape") document.querySelector('.modal.is-open')?.classList.remove('is-open'); });
      document.querySelectorAll('[data-copy-text]').forEach(button => {
        button.addEventListener('click', () => {
          navigator.clipboard.writeText(button.dataset.copyText).then(() => {
            const originalTextEl = button.querySelector('span') || button; const originalText = originalTextEl.textContent;
            originalTextEl.textContent = 'Скопировано!';
            setTimeout(() => { originalTextEl.textContent = originalText; }, 1500);
          });
        });
      });

    });
  </script>
</body>
</html>
